<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Operator NetflowMessageParser"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_operator"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Operator NetflowMessageParser</title>
</head>
<body id="spldoc_operator">


<h1 class="title topictitle1">Operator <tt class="ph tt">NetflowMessageParser</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">Toolkits</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.network.html">com.ibm.streamsx.network 2.5.0</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.network.parse.html">com.ibm.streamsx.network.parse</a> &gt; NetflowMessageParser</p>

</div>

<div class="section">

<p class="p">NetflowMessageParser is an operator for the IBM InfoSphere Streams product that  parses individual fields of Netflow messages received in input tuples, and assigns their values to specified output attributes.  
</p>

<p class="p">The NetflowMessageParser operator expects only Netflow messages in its input tuples, without any of the headers that precede them in network packets.  The <a class="xref" href="op$com.ibm.streamsx.network.source$PacketLiveSource.html">PacketLiveSource</a> and <a class="xref" href="op$com.ibm.streamsx.network.source$PacketFileSource.html">PacketFileSource</a> operators can produce tuples that contain Netflow messages with the <a class="xref" href="fc$com.ibm.streamsx.network.source.html#spldoc_functions__PAYLOAD_DATA">PAYLOAD_DATA()</a> output attribute assignment function.
</p>

<p class="p">The NetflowMessageParser operator consumes input tuples containing Netflow messages, parses indivdual fields in flow records within Netflow version 5 and version 9 messages,  selects flows to emit as output tuples with filter expressions, and assigns values to them with output attribute assignment expressions.
</p>

<p class="p">Output filters and attribute assignments are SPL expressions. They may use any of the built-in SPL functions, and any of these functions, which are specific to the NetflowMessageParser operator: 
</p>

<div class="p">
<ul class="ul">
<li class="li"> <a class="xref" href=".././tk$com.ibm.streamsx.network/fc$com.ibm.streamsx.network.parse.html">Netflow parser result functions</a></li>

</ul>

</div>

<p class="p">For Netflow version 5 messages, there are result functions for each field in the message header and flow records.  For Netflow version 9 messages, there are result functions for each field in the message header and the standardized fields in flow records.  Nonstandardized fields in flow records can be accessed by field number.
</p>

<p class="p">The NetflowMessageParser operator emits a tuple on each output port for each flow record within a Netflow version 5 or 9 message, optionally filtered by the 'outputFilters' parameter.  Specified fields from each flow record are assigned to output attributes with the Netflow parser result functions. All attributes of all output ports must be assigned values, either with explicit assignment expressions, or implicitly by copy from input tuples.
</p>

<p class="p">This operator is part of the network toolkit. To use it in an application, include this statement in the SPL source file:
</p>

<div class="p">
<pre class="pre codeblock">
use com.ibm.streamsx.network.parse::*;
</pre>


</div>

</div>

<div class="section"><h2 class="title sectiontitle">Sample Applications
</h2>

<p class="p">The network toolkit includes several <a class="xref" href=".././tk$SampleNetflowMessageParser/tk$SampleNetflowMessageParser.html">sample applications</a> that illustrate how to use this operator.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">References
</h2>

<p class="p">Netflow version 5 messages and the fields they contain are described here:
</p>

<div class="p">
<ul class="ul">
<li class="li"> <a class="xref" href="http://tools.ietf.org/html/rfc1035">http://tools.ietf.org/html/rfc1035</a></li>

<li class="li"> <a class="xref" href="http://www.cisco.com/c/en/us/td/docs/net_mgmt/netflow_collection_engine/3-6/user/guide/format.html#wp1006108">http://www.cisco.com/c/en/us/td/docs/net_mgmt/netflow_collection_engine/3-6/user/guide/format.html#wp1006108</a></li>

</ul>

</div>

<p class="p">Netflow version 9 messages and the fields they contain are described here:
</p>

<div class="p">
<ul class="ul">
<li class="li"> <a class="xref" href="https://www.ietf.org/rfc/rfc3954.txt">https://www.ietf.org/rfc/rfc3954.txt</a></li>

<li class="li"> <a class="xref" href="http://www.iana.org/assignments/ipfix/ipfix.xhtml">http://www.iana.org/assignments/ipfix/ipfix.xhtml</a></li>

<li class="li"> <a class="xref" href="http://www.cisco.com/en/US/technologies/tk648/tk362/technologies_white_paper09186a00800a3db9.html">http://www.cisco.com/en/US/technologies/tk648/tk362/technologies_white_paper09186a00800a3db9.html</a></li>

</ul>

</div>

<p class="p">The result functions that can be used in boolean expressions for the <tt class="ph tt">outputFilters</tt> parameter and in output attribute assignment expressions are described here:
</p>

<div class="p">
<ul class="ul">
<li class="li"> <a class="xref" href=".././tk$com.ibm.streamsx.network/fc$com.ibm.streamsx.network.parse.html">Netflow result functions</a>.  </li>

</ul>

</div>

</div>

<div class="section"><h2 class="title sectiontitle">Operator Diagram
</h2>

</div>

<div class="section splprimop">
  <embed class="image" src="../../image/tk$com.ibm.streamsx.network/op$com.ibm.streamsx.network.parse$NetflowMessageParser.svg" width="672" height="112"/>
</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Summary</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Ports</dt>

  <dd class="dd">This operator has 1 input port and 1 or more output ports.</dd>

 
 
  <dt class="dt dlterm">Windowing</dt>

  <dd class="dd">This operator does not accept any windowing configurations.</dd>

 
 
  <dt class="dt dlterm">Parameters</dt>

  <dd class="dd">This operator supports 4 parameters.
<p class="p"> Required: 
<a class="xref" href="#spldoc_operator__parameter__messageAttribute">messageAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__sourceAttribute">sourceAttribute</a>

</p>

<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__outputFilters">outputFilters</a>, <a class="xref" href="#spldoc_operator__parameter__processorAffinity">processorAffinity</a>

</p>
</dd>

 
 
  <dt class="dt dlterm">Metrics</dt>

  <dd class="dd">This operator does not report any metrics.</dd>

 
</dl>
</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Properties</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Implementation</dt>

  <dd class="dd">C++</dd>

 
 
  <dt class="dt dlterm"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__providessinglethreadedexecutioncontext">Threading</a></dt>

  <dd class="dd"><tt class="ph tt">Always</tt> - Operator always provides a single threaded execution context.</dd>

 
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set">Input Ports</a></strong></p>
<dl class="dl">
  
   <dt class="dt dlterm">Ports (0)</dt>

   <dd class="dd">
<p class="p">The NetflowMessageParser operator requires one input port.  One input attribute must be of type <tt class="ph tt">blob</tt> and must contain a Netflow message, excluding the network headers that proceed them in network packets, as specified by the required parameter <tt class="ph tt">messageAttribute</tt>.
</p>

<p class="p">The <a class="xref" href="fc$com.ibm.streamsx.network.source.html#spldoc_functions__PAYLOAD_DATA">PAYLOAD_DATA()</a> output assignment function of the <a class="xref" href="op$com.ibm.streamsx.network.source$PacketLiveSource.html">PacketLiveSource</a> and <a class="xref" href="op$com.ibm.streamsx.network.source$PacketFileSource.html">PacketFileSource</a> operators produces attributes that can be consumed by the NetflowMessageParser operator.
</p>

   <dl class="dl">
    
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__optional">Optional</a>: false
     </li>

   </ul>

   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__controlport">ControlPort</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__tuplemutationallowed">TupleMutationAllowed</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowingmode">WindowingMode</a>: NonWindowed
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowpunctuationinputmode">WindowPunctuationInputMode</a>: Oblivious
     </li>

   </ul>

      </dd>
    
   </dl>

   <p class="p"/>
   </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set">Output Ports</a></strong></p>
<dl class="dl">
  
     <dt class="dt dlterm">Assignments</dt>

     <dd class="dd">This operator allows any SPL expression of the correct type to be assigned to output attributes.</dd>

  
</dl>

<dl class="dl">
  
   <dt class="dt dlterm">Ports (0...)</dt>

   <dd class="dd">

<p class="p">The NetflowMessageParser operator requires one or more output ports.
</p>

<p class="p">Each output port will produce one output tuple for each input tuple if the corresponding expression in the <tt class="ph tt">outputFilters</tt> parameter evaluates <tt class="ph tt">true</tt>, or if no <tt class="ph tt">outputFilters</tt> parameter is specified. 
</p>

<p class="p">Output attributes can be assigned values with any SPL expression that evaluates to the proper type, and the expressions may include any of the  <a class="xref" href=".././tk$com.ibm.streamsx.network/fc$com.ibm.streamsx.network.parse.html">Netflow result functions</a>.   Output attributes that match input attributes in name and type are copied automatically.
</p>

   <p class="p"/>

    <p class="p"/>

   <dl class="dl">
    
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__tuplemutationallowed">TupleMutationAllowed</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__windowpunctuationoutputmode">WindowPunctuationOutputMode</a>: Preserving
     </li>

   </ul>

</dd>
    
   </dl>

   <p class="p"/>

   </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters">Parameters</a></strong></p>

<dl class="dl">
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__messageAttribute"><!-- --></a><tt class="ph tt">messageAttribute</tt></dt>

     <dd class="dd">
<p class="p">This required parameter specifies an input attribute of type <tt class="ph tt">blob</tt> that contains a Netflow message to be parsed by the operator.
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: blob
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__sourceAttribute"><!-- --></a><tt class="ph tt">sourceAttribute</tt></dt>

     <dd class="dd">
  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: uint32
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__outputFilters"><!-- --></a><tt class="ph tt">outputFilters</tt></dt>

     <dd class="dd">
<p class="p">This optional parameter takes a list of SPL expressions that specify which Netflow messages should be emitted by the corresponding output port. The number of expressions in the list must match the number of output ports, and each expression must evaluate to a <tt class="ph tt">boolean</tt> value.  The output filter expressions may include any of the <a class="xref" href=".././tk$com.ibm.streamsx.network/fc$com.ibm.streamsx.network.parse.html">Netflow result functions</a>.  
</p>

<p class="p">The default value of the <tt class="ph tt">outputFilters</tt> parameter is an empty list, which causes all Netflow messages processed to be emitted by all output ports.
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: boolean
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Expression
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__processorAffinity"><!-- --></a><tt class="ph tt">processorAffinity</tt></dt>

     <dd class="dd">
<p class="p">This optional parameter takes one expression of type <tt class="ph tt">uint32</tt> that specifies which processor core the operator's thread will run on.  The maximum value is <em class="ph i">P-1</em>, where <em class="ph i">P</em> is the number of processors on the machine where the operator will run.
</p>

<p class="p">Where the operator runs on a thread of its own, this parameter applies to the operator's thread.  This is the situation when the operator's input port is configured as a threaded input port, and when the operator has an @parallel annotation.
</p>

<p class="p">Where the operator runs on the thread of an upstream operator, this parameter affects the thread of the operator that sends tuples to it. This is the situation when the operator is fused with an upstream operator.
</p>

<p class="p">The default is to dispatch the operator's thread on any available processor.
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: uint32
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Expression
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies">Libraries</a></strong></p>
<dl class="dl">
 
  <dt class="dt dlterm"><tt class="ph tt">common code for toolkit operators</tt>  </dt>

<dd class="dd"/>
  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__includepath">Include Path</a>: <tt class="ph tt">../../impl/include</tt></dd>

 
</dl>

</div>

</div>


</body>
</html>