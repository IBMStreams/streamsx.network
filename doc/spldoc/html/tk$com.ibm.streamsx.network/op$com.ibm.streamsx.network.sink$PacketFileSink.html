<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Operator PacketFileSink"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_operator"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Operator PacketFileSink</title>
</head>
<body id="spldoc_operator">


<h1 class="title topictitle1">Operator <tt class="ph tt">PacketFileSink</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">IBMStreams com.ibm.streamsx.network Toolkit</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.network.html">com.ibm.streamsx.network 3.4.2</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.network.sink.html">com.ibm.streamsx.network.sink</a> &gt; PacketFileSink</p>

</div>

<div class="section splprimop">
  <embed class="image" src="../../image/tk$com.ibm.streamsx.network/op$com.ibm.streamsx.network.sink$PacketFileSink.svg" width="872" height="112"/>
</div>

<div class="section">

<p class="p">PacketFileSink is an operator for the IBM Streams product that writes network packets into 'packet capture (PCAP)' files.  Each input tuple must contain a complete network packet, including all network headers, in an attribute of type <tt class="ph tt">blob</tt>, such as produced by the PacketXxxxSource operators in this toolkit.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Dependencies
</h2>

<p class="p">The PacketFileSink operator depends upon the Linux 'packet capture library (libpcap)'.  The library must be installed on the machine where this operator executes. For instructions on installing this library, see the PacketFileSource operator in this toolkit.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Threads 
</h2>

<p class="p">The PacketFileSink operator runs on the thread of the upstream operator that  sends tuples to it. The 'libpcap' library buffers its file output, but disk writes are synchronous and may temporarily block the upstream operator.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Exceptions 
</h2>

<p class="p">The PacketFileSource operator will throw an exception and terminate in these situations:
</p>

<div class="p">
<ul class="ul">
<li class="li"> The <tt class="ph tt">pcapFilename</tt> parameter does not specify a writable pathname.</li>

</ul>

</div>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Summary</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Ports</dt>

  <dd class="dd">This operator has 1 input port and 0 output ports.</dd>

 
 
  <dt class="dt dlterm">Windowing</dt>

  <dd class="dd">This operator does not accept any windowing configurations.</dd>

 
 
  <dt class="dt dlterm">Parameters</dt>

  <dd class="dd">This operator supports 4 parameters.
<p class="p"> Required: 
<a class="xref" href="#spldoc_operator__parameter__packetAttribute">packetAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__pcapFilename">pcapFilename</a>, <a class="xref" href="#spldoc_operator__parameter__timestampAttribute">timestampAttribute</a>

</p>

<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__timestampMicrosecondsAttribute">timestampMicrosecondsAttribute</a>

</p>
</dd>

 
 
  <dt class="dt dlterm">Metrics</dt>

  <dd class="dd">This operator does not report any metrics.</dd>

 
</dl>
</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Properties</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Implementation</dt>

  <dd class="dd">C++</dd>

 
 
  <dt class="dt dlterm"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__providessinglethreadedexecutioncontext">Threading</a></dt>

  <dd class="dd"><tt class="ph tt">Always</tt> - Operator always provides a single threaded execution context.</dd>

 
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set">Input Ports</a></strong></p>
<dl class="dl">
  
   <dt class="dt dlterm">Ports (0)</dt>

   <dd class="dd">   <dl class="dl">
    
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__optional">Optional</a>: false
     </li>

   </ul>

   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__controlport">ControlPort</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__tuplemutationallowed">TupleMutationAllowed</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowingmode">WindowingMode</a>: NonWindowed
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowpunctuationinputmode">WindowPunctuationInputMode</a>: Oblivious
     </li>

   </ul>

      </dd>
    
   </dl>

   <p class="p"/>
   </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters">Parameters</a></strong></p>
This operator supports 4 parameters.
<p class="p"> Required: 
<a class="xref" href="#spldoc_operator__parameter__packetAttribute">packetAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__pcapFilename">pcapFilename</a>, <a class="xref" href="#spldoc_operator__parameter__timestampAttribute">timestampAttribute</a>

</p>

<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__timestampMicrosecondsAttribute">timestampMicrosecondsAttribute</a>

</p>
<dl class="dl">
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__packetAttribute"><!-- --></a><tt class="ph tt">packetAttribute</tt></dt>

     <dd class="dd">
<p class="p">This required parameter specifies an input attribute of type <tt class="ph tt">blob</tt> that contains a packet to be written into the output file specified by the <tt class="ph tt">pcapFilenae</tt> attribute. The attribute must contain a complete network packet, including all network headers. For example, the PacketXxxxSource operators in this toolkit can create tuples with such attributes.
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: blob
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__pcapFilename"><!-- --></a><tt class="ph tt">pcapFilename</tt></dt>

     <dd class="dd">
<p class="p">This parameter takes an expression of type <tt class="ph tt">rstring</tt> that specifies the pathname of an output PCAP file for the operator to write. 
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Expression
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__timestampAttribute"><!-- --></a><tt class="ph tt">timestampAttribute</tt></dt>

     <dd class="dd">
<p class="p">This required parameter specifies an input attribute that contains the timestamp of the packet in the <tt class="ph tt">packetAttribute</tt> attribute. It may be of type <tt class="ph tt">float</tt>, <tt class="ph tt">int64</tt>, <tt class="ph tt">uint64</tt>, <tt class="ph tt">uint32</tt>, or <tt class="ph tt">timestamp</tt>. If this attribute is of type <tt class="ph tt">int64</tt>, <tt class="ph tt">uint64</tt> or <tt class="ph tt">uint32</tt>,  then the optional parameter <tt class="ph tt">timestampMicrosecondsAttribute</tt> may also be specified.
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__timestampMicrosecondsAttribute"><!-- --></a><tt class="ph tt">timestampMicrosecondsAttribute</tt></dt>

     <dd class="dd">
<p class="p">This optional parameter specifies an input attribute that contains the microseconds portion of the timestamp of the packet in the <tt class="ph tt">packetAttribute</tt> attribute, when that attribute is of type <tt class="ph tt">int64</tt>, <tt class="ph tt">uint64</tt> or <tt class="ph tt">uint32</tt>. This attribute may be of type <tt class="ph tt">uint64</tt> or <tt class="ph tt">uint32</tt>.
</p>

<p class="p">If the type of the <tt class="ph tt">timestampAttribute</tt> attribute is <tt class="ph tt">int64</tt>, <tt class="ph tt">uint64</tt> or <tt class="ph tt">uint32</tt> and the <tt class="ph tt">timestampMicrosecondsAttribute</tt> attribute is not specified,  the microseconds portion of the timestamp of the packet will be set to zero.
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies">Libraries</a></strong></p>
<dl class="dl">
 
  <dt class="dt dlterm"><tt class="ph tt"/>  </dt>

<dd class="dd"/>
  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__command">Command</a>: ../../impl/bin/libpcapPath.pl
  </dd>

 
 
  <dt class="dt dlterm"><tt class="ph tt"/>  </dt>

<dd class="dd"/>
  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__includepath">Include Path</a>: <tt class="ph tt">../../impl/include</tt></dd>

 
 
  <dt class="dt dlterm">No description for library.
  </dt>

<dd class="dd"/>
  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__lib">Library Name</a>: <tt class="ph tt">streams_boost_filesystem</tt></dd>

 
 
  <dt class="dt dlterm">No description for library.
  </dt>

<dd class="dd"/>
  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__lib">Library Name</a>: <tt class="ph tt">streams_boost_system</tt></dd>

 
</dl>

</div>

</div>


</body>
</html>